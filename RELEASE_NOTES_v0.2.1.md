# EchoType v0.2.1 Release Notes

## ğŸ“¦ ç‰ˆæœ¬è³‡è¨Š
- **ç‰ˆæœ¬è™Ÿ**: 0.2.1
- **ç™¼å¸ƒæ—¥æœŸ**: 2026-02-20
- **åŸºæ–¼ç‰ˆæœ¬**: 0.2.0

## âœ¨ æ–°å¢åŠŸèƒ½

### P1 ç´šåˆ¥åŠŸèƒ½ï¼ˆå…¨éƒ¨å®Œæˆï¼‰

#### 1. çµ„åˆéµæ’é™¤ (Combo Key Exclusion)
- **åŠŸèƒ½**: fn + å…¶ä»–éµï¼ˆShift/Ctrl/Alt/Cmdï¼‰ä¸å†è§¸ç™¼éŒ„éŸ³
- **å¯¦ä½œä½ç½®**: `desktop/src-tauri/src/keyboard.rs`
- **æŠ€è¡“ç´°ç¯€**:
  - æ–°å¢ COMBO_MASK æª¢æ¸¬æ‰€æœ‰ modifier flags
  - keyDown äº‹ä»¶ç›£è½ï¼Œè‡ªå‹•å–æ¶ˆ Pending/Holding ç‹€æ…‹
  - é˜²æ­¢èª¤è§¸ï¼Œæå‡ä½¿ç”¨é«”é©—

#### 2. æ­·å²è¨˜éŒ„å®Œæ•´ä¸Šä¸‹æ–‡ (Full History Context)
- **åŠŸèƒ½**: Hub æ­·å²è¨˜éŒ„ç¾åœ¨é¡¯ç¤ºå®Œæ•´çš„è¦–çª—æ¨™é¡Œå’Œå¯é»æ“Šçš„ç¶²å€é€£çµ
- **å¯¦ä½œä½ç½®**:
  - Swift: `helper/Sources/EchoTypeHelper/main.swift`
  - Rust: `desktop/src-tauri/src/commands.rs`
  - React: `desktop/src/components/Hub.tsx`
- **æ–°å¢æ¬„ä½**:
  - `window_title`: è¦–çª—æ¨™é¡Œï¼ˆæˆªæ–·è‡³ 30 å­—å…ƒï¼‰
  - `web_url`: å®Œæ•´ç¶²å€ï¼ˆåƒ… http/https å¯é»æ“Šï¼‰
  - `web_domain`: ç¶²åŸŸåç¨±

#### 3. å€‹äººè©å…¸ (Personal Dictionary)
- **åŠŸèƒ½**: åœ¨è¨­å®šé é¢åŠ å…¥å°ˆæœ‰åè©ï¼Œè‡ªå‹•æå‡ ASR è¾¨è­˜æº–ç¢ºåº¦
- **å¯¦ä½œä½ç½®**:
  - Swift: `CoreKit/Sources/CoreKit/Database/SettingsStore.swift`, `helper/Sources/EchoTypeHelper/main.swift`
  - Rust: `desktop/src-tauri/src/commands.rs`, `desktop/src-tauri/src/lib.rs`
  - React: `desktop/src/components/Settings.tsx`
- **ä½¿ç”¨æ–¹å¼**: è¨­å®š â†’ å€‹äººè©å…¸ â†’ æ¯è¡Œè¼¸å…¥ä¸€å€‹è©å½™
- **æŠ€è¡“ç´°ç¯€**: è©å…¸å…§å®¹æœƒè‡ªå‹•æ³¨å…¥åˆ° Whisper initial_promptï¼Œæå‡è¾¨è­˜æº–ç¢ºåº¦

#### 4. è²¼ä¸Šæœ€å¾Œè½‰éŒ„å¿«æ·éµ (Paste Last Transcript)
- **åŠŸèƒ½**: æŒ‰ Ctrl+Cmd+V å¿«é€Ÿé‡æ–°è²¼ä¸Šä¸Šæ¬¡è½‰éŒ„çµæœ
- **å¯¦ä½œä½ç½®**:
  - Rust: `desktop/src-tauri/src/keyboard.rs`
  - React: `desktop/src/components/FloatingBar.tsx`
- **æŠ€è¡“ç´°ç¯€**: CGEventTap åµæ¸¬ V key (keycode 0x09) + Ctrl + Cmd flags

### P2 ç´šåˆ¥åŠŸèƒ½ï¼ˆéƒ¨åˆ†å®Œæˆï¼‰

#### 5. èƒŒæ™¯éŸ³é »éœéŸ³ (Background Audio Mute)
- **ç‹€æ…‹**: âŒ è·³é
- **åŸå› **: å¯¦ä½œéœ€è¦è¤‡é›œçš„ CoreAudio APIï¼ŒæŠ•è³‡å ±é…¬ç‡ä½
- **æ›¿ä»£æ–¹æ¡ˆ**: ä½¿ç”¨è€…å¯æ‰‹å‹•èª¿æ•´ç³»çµ±éŸ³é‡

#### 6. è‡ªå‹•æ›´æ–° (Auto-Updater)
- **åŠŸèƒ½**: è¨­å®šé é¢æ–°å¢ã€Œæª¢æŸ¥æ›´æ–°ã€æŒ‰éˆ•
- **å¯¦ä½œä½ç½®**:
  - Rust: `desktop/src-tauri/Cargo.toml`, `desktop/src-tauri/src/lib.rs`
  - React: `desktop/src/components/Settings.tsx`
  - Config: `desktop/src-tauri/capabilities/default.json`, `desktop/package.json`
- **ä½¿ç”¨æ–¹å¼**: è¨­å®š â†’ ç³»çµ±æ•´åˆ â†’ æª¢æŸ¥æ›´æ–°

## ğŸ› ä¿®å¾©çš„å•é¡Œ

### Critical Issues
1. **API Key Masking æ”¹é€²** (`main.swift:107-115`)
   - ä¿®å¾©çŸ­ API keyï¼ˆ< 11 å­—å…ƒï¼‰é¡¯ç¤ºé‡ç–Šçš„å•é¡Œ
   - çŸ­ key ç¾åœ¨é¡¯ç¤ºç‚ºå…¨ `*` é®ç½©

2. **URL Scheme é©—è­‰** (`Hub.tsx:169`)
   - æ–°å¢ `startsWith('http')` æª¢æŸ¥
   - é˜²æ­¢æ½›åœ¨çš„ `javascript:` URL æ³¨å…¥

3. **Settings.tsx Placeholder ä¿®å¾©** (`Settings.tsx:276`)
   - ä¿®å¾© `&#10;` ç„¡æ³•æ­£ç¢ºé¡¯ç¤ºç‚ºæ›è¡Œçš„å•é¡Œ
   - æ”¹ç”¨ JSX å­—ä¸²æ¨¡æ¿èªæ³•

### Medium Issues
4. **FloatingBar State Guard** (`FloatingBar.tsx:151`)
   - paste-last-transcript äº‹ä»¶æ–°å¢ idle ç‹€æ…‹æª¢æŸ¥
   - é˜²æ­¢éŒ„éŸ³ä¸­èª¤è§¸è²¼ä¸ŠåŠŸèƒ½

## ğŸ“Š æŠ€è¡“çµ±è¨ˆ

### ä¿®æ”¹æª”æ¡ˆ
- **Rust**: 3 å€‹æª”æ¡ˆï¼ˆkeyboard.rs, commands.rs, lib.rsï¼‰
- **Swift**: 2 å€‹æª”æ¡ˆï¼ˆSettingsStore.swift, main.swiftï¼‰
- **TypeScript**: 3 å€‹æª”æ¡ˆï¼ˆHub.tsx, Settings.tsx, FloatingBar.tsxï¼‰
- **è¨­å®šæª”**: 4 å€‹æª”æ¡ˆï¼ˆCargo.toml, package.json, tauri.conf.json, capabilities/default.jsonï¼‰

### æ–°å¢ç¨‹å¼ç¢¼
- **Rust**: ~150 è¡Œ
- **Swift**: ~80 è¡Œ
- **TypeScript**: ~100 è¡Œ

### ç·¨è­¯é©—è­‰
- âœ… `cargo check` - é€šé
- âœ… `tsc --noEmit` - é€šé
- âœ… `swift build` - é€šé

## ğŸ” å·²çŸ¥é™åˆ¶

1. **webTitle æ¬„ä½æœªå¯¦ä½œ**
   - HistoryEntry ç¼ºå°‘ `web_title` æ¬„ä½
   - å½±éŸ¿ï¼šç¶²é æ¨™é¡Œè³‡è¨Šæœªå„²å­˜
   - å„ªå…ˆç´šï¼šLowï¼ˆweb_domain å·²è¶³å¤ ï¼‰

2. **Dictionary Save ç„¡éŒ¯èª¤è™•ç†**
   - Settings.tsx çš„ onBlur æœªè™•ç† invoke å¤±æ•—
   - å½±éŸ¿ï¼šå„²å­˜å¤±æ•—æ™‚ä½¿ç”¨è€…ç„¡æ„ŸçŸ¥
   - å„ªå…ˆç´šï¼šLowï¼ˆå¤±æ•—æ©Ÿç‡æ¥µä½ï¼‰

3. **Paste History Empty ç„¡å›é¥‹**
   - Ctrl+Cmd+V åœ¨æ­·å²è¨˜éŒ„ç‚ºç©ºæ™‚ç„¡è¦–è¦ºå›é¥‹
   - å½±éŸ¿ï¼šä½¿ç”¨è€…å¯èƒ½å›°æƒ‘ç‚ºä½•ç„¡åæ‡‰
   - å„ªå…ˆç´šï¼šLowï¼ˆæ­£å¸¸ä½¿ç”¨ä¸æœƒé‡åˆ°ï¼‰

## ğŸ§ª æ¸¬è©¦å»ºè­°

### æ‰‹å‹•æ¸¬è©¦é …ç›®

#### 1. çµ„åˆéµæ’é™¤æ¸¬è©¦
- [ ] æŒ‰ fn å–®ç¨ â†’ æ‡‰è§¸ç™¼éŒ„éŸ³
- [ ] æŒ‰ fn+C â†’ ä¸æ‡‰è§¸ç™¼éŒ„éŸ³
- [ ] æŒ‰ fn+Shift â†’ ä¸æ‡‰è§¸ç™¼éŒ„éŸ³
- [ ] æŒ‰ fn+Cmd+V â†’ ä¸æ‡‰è§¸ç™¼éŒ„éŸ³ï¼ˆæ‡‰åŸ·è¡Œè²¼ä¸Šï¼‰
- [ ] é•·æŒ‰ fn 300ms å¾ŒæŒ‰å…¶ä»–éµ â†’ æ‡‰å–æ¶ˆéŒ„éŸ³ä¸¦ç™¼å‡ºæç¤ºéŸ³

#### 2. æ­·å²è¨˜éŒ„ä¸Šä¸‹æ–‡æ¸¬è©¦
- [ ] åœ¨ Chrome é–‹å•Ÿç¶²é ï¼ŒéŒ„éŸ³å¾Œæª¢æŸ¥ Hub
- [ ] é©—è­‰é¡¯ç¤ºï¼šapp_name, window_titleï¼ˆæˆªæ–· 30 å­—å…ƒï¼‰, web_domainï¼ˆå¯é»æ“Šï¼‰
- [ ] é»æ“Š web_domain é€£çµ â†’ æ‡‰åœ¨ç€è¦½å™¨é–‹å•Ÿæ­£ç¢ºç¶²å€
- [ ] åœ¨éç€è¦½å™¨æ‡‰ç”¨éŒ„éŸ³ â†’ æ‡‰åªé¡¯ç¤º app_name

#### 3. å€‹äººè©å…¸æ¸¬è©¦
- [ ] è¨­å®š â†’ å€‹äººè©å…¸ â†’ è¼¸å…¥ã€ŒEchoTypeã€ã€ã€ŒWhisper Turboã€
- [ ] éŒ„éŸ³èªªå‡ºé€™äº›è©å½™
- [ ] é©—è­‰è½‰éŒ„çµæœæ­£ç¢ºè¾¨è­˜å°ˆæœ‰åè©
- [ ] é‡æ–°é–‹å•Ÿè¨­å®š â†’ é©—è­‰è©å…¸å…§å®¹å·²å„²å­˜

#### 4. è²¼ä¸Šæœ€å¾Œè½‰éŒ„æ¸¬è©¦
- [ ] å®Œæˆä¸€æ¬¡éŒ„éŸ³
- [ ] åˆ‡æ›åˆ°æ–‡å­—ç·¨è¼¯å™¨
- [ ] æŒ‰ Ctrl+Cmd+V â†’ æ‡‰è²¼ä¸Šæœ€å¾Œè½‰éŒ„çµæœ
- [ ] éŒ„éŸ³ä¸­æŒ‰ Ctrl+Cmd+V â†’ ä¸æ‡‰æœ‰åæ‡‰
- [ ] ç„¡æ­·å²è¨˜éŒ„æ™‚æŒ‰ Ctrl+Cmd+V â†’ ä¸æ‡‰æœ‰åæ‡‰

#### 5. è‡ªå‹•æ›´æ–°æ¸¬è©¦
- [ ] è¨­å®š â†’ ç³»çµ±æ•´åˆ â†’ æª¢æŸ¥æ›´æ–°
- [ ] é©—è­‰é¡¯ç¤ºã€Œç›®å‰å·²æ˜¯æœ€æ–°ç‰ˆæœ¬ã€ï¼ˆç„¡æ›´æ–°ä¼ºæœå™¨æ™‚ï¼‰
- [ ] é©—è­‰ç‰ˆæœ¬è™Ÿé¡¯ç¤ºç‚º v0.2.1

### æ¬Šé™æ¸¬è©¦
- [ ] é¦–æ¬¡å•Ÿå‹• â†’ Onboarding æµç¨‹å®Œæ•´
- [ ] éº¥å…‹é¢¨æ¬Šé™ â†’ ç³»çµ±å°è©±æ¡†æ­£å¸¸å½ˆå‡º
- [ ] Accessibility æ¬Šé™ â†’ å¼•å°åˆ°ç³»çµ±è¨­å®š
- [ ] Input Monitoring æ¬Šé™ â†’ å¼•å°åˆ°ç³»çµ±è¨­å®š
- [ ] æ¬Šé™ç‹€æ…‹å„€è¡¨æ¿ â†’ å³æ™‚æ›´æ–°ï¼ˆ10 ç§’è¼ªè©¢ï¼‰

### æ•ˆèƒ½æ¸¬è©¦
- [ ] é•·æ™‚é–“éŒ„éŸ³ï¼ˆ> 60 ç§’ï¼‰â†’ ç„¡è¨˜æ†¶é«”æ´©æ¼
- [ ] å¿«é€Ÿé€£çºŒéŒ„éŸ³ï¼ˆ10 æ¬¡ï¼‰â†’ ç„¡å¡é “
- [ ] å€‹äººè©å…¸ 100+ è©å½™ â†’ ç„¡æ•ˆèƒ½å½±éŸ¿
- [ ] æ­·å²è¨˜éŒ„ 1000+ ç­† â†’ Hub è¼‰å…¥æ­£å¸¸

## ğŸ“ å‡ç´šæŒ‡å—

### å¾ v0.2.0 å‡ç´š
1. ç„¡éœ€æ‰‹å‹•é·ç§»è³‡æ–™
2. å€‹äººè©å…¸ç‚ºæ–°åŠŸèƒ½ï¼Œé¦–æ¬¡ä½¿ç”¨éœ€æ‰‹å‹•è¨­å®š
3. æ­·å²è¨˜éŒ„æœƒè‡ªå‹•åŒ…å«æ–°æ¬„ä½ï¼ˆèˆŠè¨˜éŒ„ç„¡ window_title/web_urlï¼‰

### ç³»çµ±éœ€æ±‚
- macOS 13.0+
- éº¥å…‹é¢¨æ¬Šé™
- Accessibility æ¬Šé™
- Input Monitoring æ¬Šé™

## ğŸ”— ç›¸é—œæ–‡ä»¶
- æ¶æ§‹æ–‡ä»¶: `docs/v0.3.0-architecture.md`
- ç ”ç©¶å ±å‘Š: `docs/research-*.txt`
- å¯¦ä½œè¨ˆç•«: `.claude/plans/nifty-tumbling-sky.md`

## ğŸ‘¥ è²¢ç»è€…
- Claude Sonnet 4.5 (AI Assistant)
- EchoType Team

---

**æ³¨æ„**: æœ¬ç‰ˆæœ¬å·²é€šéæ‰€æœ‰ç·¨è­¯æ¸¬è©¦ï¼Œä½†å»ºè­°åœ¨æ­£å¼ç™¼å¸ƒå‰é€²è¡Œå®Œæ•´çš„æ‰‹å‹•æ¸¬è©¦ã€‚
